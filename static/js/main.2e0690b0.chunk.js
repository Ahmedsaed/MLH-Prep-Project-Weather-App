(this["webpackJsonpprep-template"]=this["webpackJsonpprep-template"]||[]).push([[0],{11:function(e,t,c){},13:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(4),s=c.n(r),i=(c(9),c.p+"static/media/mlh-prep.270f6887.png"),o=c(0);function j({error:e}){return Object(o.jsxs)("div",{children:["Error: ",e.message]})}function d({isLoaded:e,results:t}){return Object(o.jsxs)("div",{className:"Results",children:[!e&&Object(o.jsx)("h2",{children:"Loading..."}),console.log(t),e&&t&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h3",{children:t.weather[0].main}),Object(o.jsxs)("p",{children:["Feels like ",t.main.feels_like,"\xb0C"]}),Object(o.jsx)("i",{children:Object(o.jsxs)("p",{children:[t.name,", ",t.sys.country]})})]})]})}function p({city:e,changeCity:t}){return Object(o.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value)})}var l=({img_src:e})=>Object(o.jsx)("div",{className:"card",children:Object(o.jsx)("img",{src:e,alt:"required item"})}),u=c.p+"static/media/cap.474e6898.png",O=c.p+"static/media/gloves.45497ed2.png",b=c.p+"static/media/jacket.58fadea5.png",m=c.p+"static/media/raincoat.376a8ef2.png",h=c.p+"static/media/scarf.fbb31feb.png",g=c.p+"static/media/sunglasses.6c5f1538.png",E=c.p+"static/media/suncream.d8793979.png",_=c.p+"static/media/umbrella.df170598.png",S=c.p+"static/media/water_proof_boots.a48e94f8.png";var f=({weatherKind:e})=>{const t={Rain:[m,S,_],Snow:[g,O,b,h],Clear:[g,u,E]};return Object(o.jsx)(o.Fragment,{children:void 0!==t[e]&&t[e].map(((e,t)=>Object(o.jsx)(l,{img_src:e},t)))})};var x=()=>{const[e,t]=Object(n.useState)([]),c=e=>{t([e.coords.latitude,e.coords.longitude])},a=e=>{console.warn(e)};return Object(n.useEffect)((()=>{navigator.geolocation.getCurrentPosition(c,a)}),[]),e};function v({getUserLocation:e}){return Object(o.jsx)("button",{onClick:e,children:"Get My Location"})}var P=c(3),T=c.n(P);function R({setIsLoaded:e,setResults:t,setError:c}){const a=Object(n.useRef)(null),r=Object(n.useRef)(null),[s,i]=Object(n.useState)(-70.9),[j,d]=Object(n.useState)(42.35),[p,l]=Object(n.useState)(9);return Object(n.useEffect)((()=>{r.current||(r.current=new T.a.Map({container:a.current,style:"mapbox://styles/mapbox/streets-v11",center:[s,j],zoom:p}),r.current.on("click",(n=>{fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n.lngLat.lat,"&lon=").concat(n.lngLat.lng,"&units=metric&appid=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/prep-project-22.AUG.PREP.2-proj2-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY)).then((e=>e.json())).then((c=>{200!==c.cod?e(!1):(e(!0),t(c))}),(t=>{e(!0),c(t)}))})))}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{ref:a,className:"map-container"})})}function C(){const[e,t]=Object(n.useState)(null),[c,a]=Object(n.useState)(!1),[r,s]=Object(n.useState)("New York City"),[l,u]=Object(n.useState)(null),O=x();return Object(n.useEffect)((()=>{fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(r,"&units=metric&appid=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/prep-project-22.AUG.PREP.2-proj2-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY)).then((e=>e.json())).then((e=>{200!==e.cod?a(!1):(a(!0),u(e))}),(e=>{a(!0),t(e)}))}),[r]),e?Object(o.jsx)(j,{error:e}):Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{className:"logo",src:i,alt:"MLH Prep Logo"}),Object(o.jsx)("h2",{children:"Enter a city below \ud83d\udc47"}),Object(o.jsx)(p,{city:r,changeCity:s}),Object(o.jsx)(v,{getUserLocation:function(){0!==O.length&&fetch("http://api.openweathermap.org/geo/1.0/reverse?lat=".concat(O[0],"&lon=").concat(O[1],"&limit=1&appid=").concat(Object({NODE_ENV:"production",PUBLIC_URL:"/prep-project-22.AUG.PREP.2-proj2-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_APIKEY)).then((e=>e.json())).then((e=>{s(e[0].name)}),(e=>{a(!0),t(e)}))}}),Object(o.jsx)(d,{isLoaded:c,results:l}),c&&l&&Object(o.jsx)(f,{weatherKind:l.weather[0].main}),Object(o.jsx)(R,{setIsLoaded:a,setResults:u,setError:t})]})})}T.a.accessToken="pk.eyJ1Ijoicm95Z2JldiIsImEiOiJjbDFjYzF2ajUwMHgzM2NwcXBzdWVxM3ZvIn0.2k8N-UN2Y7ZdT5vwml9QAw";c(11),c(12);s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(C,{})}),document.getElementById("root"))},9:function(e,t,c){}},[[13,1,2]]]);
//# sourceMappingURL=main.2e0690b0.chunk.js.map