{"version":3,"sources":["mlh-prep.png","Components/Error Component.js","Components/Results Component.js","Components/Search Component.js","Components/Map.js","Components/App.js","index.js"],"names":["ErrorComponent","error","message","ResultsComponent","isLoaded","results","className","console","log","weather","main","feels_like","name","sys","country","SearchComponent","city","changeCity","type","value","onChange","event","target","Map","setIsLoaded","setResults","setError","mapContainer","useRef","map","useState","lng","lat","zoom","useEffect","current","mapboxgl","container","style","center","on","e","fetch","lngLat","process","REACT_APP_APIKEY","then","res","json","result","ref","App","setCity","src","logo","alt","accessToken","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kNAAe,G,MAAA,IAA0B,sC,OCC1B,SAASA,EAAT,GAAkC,IAATC,EAAQ,EAARA,MACtC,OACE,0CAAaA,EAAMC,WCFR,SAASC,EAAT,GAAgD,IAArBC,EAAoB,EAApBA,SAAUC,EAAU,EAAVA,QAEhD,OACI,sBAAKC,UAAU,UAAf,WACIF,GAAY,4CACbG,QAAQC,IAAIH,GACZD,GAAYC,GAAW,qCACtB,6BAAKA,EAAQI,QAAQ,GAAGC,OACxB,4CAAeL,EAAQK,KAAKC,WAA5B,WACA,4BAAG,8BAAIN,EAAQO,KAAZ,KAAoBP,EAAQQ,IAAIC,mBCThC,SAASC,EAAT,GAA8C,IAApBC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,WAE3C,OACI,uBACEC,KAAK,OACLC,MAAOH,EACPI,SAAU,SAAAC,GAAK,OAAIJ,EAAWI,EAAMC,OAAOH,U,oBCFtC,SAASI,EAAT,GAAqD,IAAtCC,EAAqC,EAArCA,YAAaC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SAC7CC,EAAeC,iBAAO,MACtBC,EAAMD,iBAAO,MAF4C,EAGzCE,oBAAU,MAH+B,mBAGxDC,EAHwD,aAIzCD,mBAAS,QAJgC,mBAIxDE,EAJwD,aAKvCF,mBAAS,IAL8B,mBAKxDG,EALwD,UAqC/D,OA9BAC,qBAAU,WACNL,EAAIM,UAERN,EAAIM,QAAU,IAAIC,IAASb,IAAI,CAC3Bc,UAAWV,EAAaQ,QACxBG,MAAO,qCACPC,OAAQ,CAACR,EAAKC,GACdC,KAAMA,IAGVJ,EAAIM,QAAQK,GAAG,SAAS,SAACC,GACrBC,MAAM,uDAAD,OAAwDD,EAAEE,OAAOX,IAAjE,gBAA4ES,EAAEE,OAAOZ,IAArF,+BAA+Ga,gKAAYC,mBAC/HC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACD,SAACG,GACyB,MAAlBA,EAAM,IACVzB,GAAY,IAEZA,GAAY,GACZC,EAAWwB,OAGf,SAAChD,GACGuB,GAAY,GACZE,EAASzB,YAId,IAGC,mCACE,qBAAKiD,IAAKvB,EAAcrB,UAAU,oBCpC7B,SAAS6C,IAAO,IAAD,EACFrB,mBAAS,MADP,mBACrB7B,EADqB,KACdyB,EADc,OAEII,oBAAS,GAFb,mBAErB1B,EAFqB,KAEXoB,EAFW,OAGJM,mBAAS,iBAHL,mBAGrBd,EAHqB,KAGfoC,EAHe,OAIEtB,mBAAS,MAJX,mBAIrBzB,EAJqB,KAIZoB,EAJY,KAyB5B,OAnBAS,qBAAU,WACRQ,MAAM,qDAAD,OAAsD1B,EAAtD,+BAAiF4B,gKAAYC,mBAC/FC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MACC,SAACG,GACuB,MAAlBA,EAAM,IACRzB,GAAY,IAEZA,GAAY,GACZC,EAAWwB,OAGf,SAAChD,GACCuB,GAAY,GACZE,EAASzB,QAGd,CAACe,IAEAf,EACK,cAACD,EAAD,CAAgBC,MAAOA,IAG5B,mCACE,gCACE,qBAAKK,UAAU,OAAO+C,IAAKC,EAAMC,IAAI,kBACrC,iEACA,cAACxC,EAAD,CAAiBC,KAAMA,EAAMC,WAAYmC,IACzC,cAACjD,EAAD,CAAkBC,SAAUA,EAAUC,QAASA,IAC/C,cAACkB,EAAD,CAAKC,YAAaA,EAAaC,WAAYA,EAAYC,SAAUA,SDxC3EU,IAASoB,YAAc,4F,YEGvBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.e1cbdbc9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/mlh-prep.270f6887.png\";","\nexport default function ErrorComponent({error}) {\n  return (\n    <div>Error: {error.message}</div>\n  )\n}","\nexport default function ResultsComponent({isLoaded, results}) {\n\n    return (\n        <div className=\"Results\">\n          {!isLoaded && <h2>Loading...</h2>}\n          {console.log(results)}\n          {isLoaded && results && <>\n            <h3>{results.weather[0].main}</h3>\n            <p>Feels like {results.main.feels_like}Â°C</p>\n            <i><p>{results.name}, {results.sys.country}</p></i>\n          </>}\n        </div>\n    )\n}","\nexport default function SearchComponent({city, changeCity}) {\n\n    return (\n        <input\n          type=\"text\"\n          value={city}\n          onChange={event => changeCity(event.target.value)} />\n    )\n}","import { useEffect, useState, useRef } from \"react\";\nimport mapboxgl from 'mapbox-gl';\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoicm95Z2JldiIsImEiOiJjbDFjYzF2ajUwMHgzM2NwcXBzdWVxM3ZvIn0.2k8N-UN2Y7ZdT5vwml9QAw';\n\nexport default function Map({ setIsLoaded, setResults, setError }) {\n    const mapContainer = useRef(null);\n    const map = useRef(null);\n    const [lng, setLng] = useState(-70.9);\n    const [lat, setLat] = useState(42.35);\n    const [zoom, setZoom] = useState(9);\n\n    useEffect(() => { // mapbox\n    if (map.current) return; // initialize map only once\n\n    map.current = new mapboxgl.Map({\n        container: mapContainer.current,\n        style: 'mapbox://styles/mapbox/streets-v11',\n        center: [lng, lat],\n        zoom: zoom\n    });\n\n    map.current.on('click', (e) => {\n        fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e.lngLat.lat}&lon=${e.lngLat.lng}&units=metric&appid=${process.env.REACT_APP_APIKEY}`)\n        .then(res => res.json())\n        .then(\n        (result) => {\n            if (result['cod'] !== 200) {\n            setIsLoaded(false)\n            } else {\n            setIsLoaded(true);\n            setResults(result);\n            }\n        },\n        (error) => {\n            setIsLoaded(true);\n            setError(error);\n        }\n        )\n    });\n    }, []);\n\n    return (\n        <>\n          <div ref={mapContainer} className=\"map-container\" />\n        </>\n    )\n}","import { useEffect, useState, useRef } from \"react\";\nimport '../App.css';\nimport logo from '../mlh-prep.png'\nimport ErrorComponent from \"./Error Component\";\nimport ResultsComponent from \"./Results Component\";\nimport SearchComponent from \"./Search Component\";\nimport Map from \"./Map\"\n\nexport default function App() {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [city, setCity] = useState(\"New York City\")\n  const [results, setResults] = useState(null);\n\n  useEffect(() => { // weather\n    fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=metric&appid=${process.env.REACT_APP_APIKEY}`)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          if (result['cod'] !== 200) {\n            setIsLoaded(false)\n          } else {\n            setIsLoaded(true);\n            setResults(result);\n          }\n        },\n        (error) => {\n          setIsLoaded(true);\n          setError(error);\n        }\n      )\n  }, [city])\n\n  if (error) {\n    return <ErrorComponent error={error} />;\n  } else {\n    return (\n      <>\n        <div>\n          <img className=\"logo\" src={logo} alt=\"MLH Prep Logo\"></img>\n          <h2>Enter a city below ðŸ‘‡</h2>\n          <SearchComponent city={city} changeCity={setCity} />\n          <ResultsComponent isLoaded={isLoaded} results={results}/>\n          <Map setIsLoaded={setIsLoaded} setResults={setResults} setError={setError} />\n        </div>\n      </>\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App';\nimport './index.css';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}